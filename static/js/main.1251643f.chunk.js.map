{"version":3,"sources":["components/header/header.js","components/header/index.js","components/spinner/index.js","components/spinner/spinner.js","components/errorMessage/error.jpg","components/errorMessage/index.js","components/errorMessage/errorMessage.js","services/gotService.js","components/randomChar/randomChar.js","components/randomChar/index.js","components/itemList/itemList.js","components/itemDetails/itemDetails.js","components/itemList/index.js","components/itemDetails/index.js","components/rowBlock/index.js","components/rowBlock/rowBlock.js","components/pages/characterPage.js","components/pages/booksPage.js","components/pages/housesPage.js","components/pages/booksItem.js","components/app/index.js","components/app/app.js","index.js"],"names":["HeaderBlock","styled","div","HeaderTitle","h3","HeaderLinks","ul","Header","to","Spinner","className","ErrorMessage","src","img","alt","GotService","getResource","url","a","fetch","_apiBase","res","ok","Error","status","json","getAllCharacters","map","_transformCharacter","getCharacter","id","character","getAllHouses","_transformHouse","getHouse","house","getAllBooks","_transformBook","getBook","book","_extractId","item","match","char","name","isSet","gender","born","died","culture","region","words","titles","ancestralWeapons","numberOfPages","publisher","released","this","data","View","RandomChar","useState","setChar","loading","setLoading","error","setError","useEffect","updateChar","timerId","setInterval","clearInterval","gotService","Math","floor","random","then","catch","errorMessage","spinner","content","ItemList","itemIdLast","getData","onItemSelected","renderItem","itemList","updateList","items","label","onClick","Field","field","ItemDetails","itemId","children","setItem","setLoad","onError","console","log","React","Children","child","cloneElement","RowBlock","left","right","Row","Col","md","CharacterPage","state","selectedChar","setState","itemDetails","Component","booksPage","props","history","push","withRouter","HousesPage","selectedHouse","BooksItem","bookId","App","showRandomChar","toggleRandomChar","Container","lg","size","offset","path","exact","component","BooksPage","render","location","params","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.1251643f.chunk.js","sourcesContent":["import React from 'react';\r\nimport styled from 'styled-components';\r\nimport {Link} from  'react-router-dom';\r\n\r\nconst HeaderBlock = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    height: 80px;\r\n`;\r\n\r\nconst HeaderTitle = styled.h3`\r\n    font-size: 24px;\r\n    color: #fff;\r\n    margin: 0;\r\n`;\r\n\r\nconst HeaderLinks = styled.ul`\r\n    display: flex;\r\n    margin: 0;\r\n    align-items: center;\r\n    color: #fff;\r\n    list-style-type: none;\r\n    li {\r\n        margin-right: 20px;\r\n        font-size: 18px;\r\n    }\r\n`;\r\n\r\nconst Header = () => {\r\n    return (\r\n        <HeaderBlock>\r\n            <HeaderTitle>\r\n                <Link to='/'>\r\n                Game of Thrones DB\r\n                </Link>\r\n            </HeaderTitle>\r\n            <HeaderLinks>\r\n                <li>\r\n                    <Link to='/characters/' >Characters</Link>\r\n                </li>\r\n                <li>\r\n                    <Link to='/houses/'>Houses</Link>\r\n                </li>\r\n                <li>\r\n                    <Link to='/books/'>Books</Link>   \r\n                </li>\r\n            </HeaderLinks>\r\n        </HeaderBlock>\r\n    );\r\n};\r\n\r\nexport default Header;","import Header from './header';\r\n\r\nexport default Header;","import Spinner from './spinner';\r\nexport default Spinner;","import React from 'react';\r\nimport './spinner.css';\r\n\r\nconst Spinner = () => {\r\n    return (\r\n        <div className=\"loadingio-spinner-spin-6s8vsocvj8t\">\r\n            <div className=\"ldio-04mrtysve73j\"><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div><div><div></div></div>\r\n        </div></div>\r\n    )\r\n}\r\n\r\nexport default Spinner;\r\n\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/error.4a53f279.jpg\";","import ErrorMessage from './errorMessage';\r\nexport default ErrorMessage;","import React from 'react';\r\nimport './errorMessage.css'\r\nimport img from './error.jpg';\r\n\r\nconst ErrorMessage = () => {\r\n    return (\r\n        <>\r\n            <img src={img} alt='error'></img>\r\n            <span>Something goes wrong</span>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ErrorMessage;","export default class GotService {\r\n    constructor() {\r\n        this._apiBase = 'https://www.anapioficeandfire.com/api';\r\n    }\r\n\r\n    getResource = async (url) => {\r\n        const res = await fetch(`${this._apiBase}${url}`);\r\n    \r\n        if (!res.ok) {\r\n            throw new Error(`Could not fetch ${url}, status: ${res.status}`)\r\n        }\r\n                  \r\n        return  await res.json();\r\n    };\r\n\r\n    getAllCharacters = async () => {\r\n        const res = await this.getResource(\"/characters?page=5&pageSize=10\");\r\n        return res.map(this._transformCharacter);\r\n    }\r\n\r\n    getCharacter = async (id) => {\r\n        const character = await this.getResource(`/characters/${id}/`);\r\n        return this._transformCharacter(character);\r\n    }\r\n\r\n    getAllHouses = async () => {\r\n        const res = await this.getResource(`/houses/`);\r\n        return res.map(this._transformHouse);\r\n    }\r\n\r\n    getHouse = async (id) => {\r\n        const house = await this.getResource(`/houses/${id}/`);\r\n        return this._transformHouse(house);\r\n    }\r\n\r\n    getAllBooks = async () => {\r\n        const res = await this.getResource(`/books/`);\r\n        return res.map(this._transformBook);\r\n    }\r\n\r\n    getBook = async (id) => {\r\n        const book = await this.getResource(`/books/${id}/`);\r\n        return this._transformBook(book);\r\n    }\r\n    \r\n    isSet(data) {\r\n        if (data) {\r\n            return data\r\n        } else {\r\n            return 'not found'\r\n        }\r\n    }\r\n\r\n    _extractId = (item) => {\r\n        const idRegExp = /\\/([0-9]*)$/;\r\n        return item.url.match(idRegExp)[1];\r\n    }\r\n\r\n    _transformCharacter = (char) => {\r\n        return {\r\n            id: this._extractId(char),\r\n            name: this.isSet(char.name),\r\n            gender: this.isSet(char.gender),\r\n            born: this.isSet(char.born),\r\n            died: this.isSet(char.died), \r\n            culture: this.isSet(char.culture)\r\n        };\r\n    }\r\n\r\n    _transformHouse = (house) => {\r\n        return {\r\n            id: this._extractId(house),\r\n            name: this.isSet(house.name),\r\n            region: this.isSet(house.region),\r\n            words: this.isSet(house.words),\r\n            titles: this.isSet(house.titles),\r\n            ancestralWeapons: this.isSet(house.ancestralWeapons)\r\n        };\r\n    }\r\n    \r\n    _transformBook = (book) => {\r\n        return {\r\n            id: this._extractId(book),\r\n            name: this.isSet(book.name),\r\n            numberOfPages: this.isSet(book.numberOfPages),\r\n            publisher: this.isSet(book.publisher),\r\n            released: this.isSet(book.released)\r\n        };\r\n    }\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, {useState, useEffect} from 'react';\r\nimport './randomChar.css';\r\nimport Spinner from '../spinner';\r\nimport ErrorMessage from '../errorMessage/';\r\nimport GotService from '../../services/gotService';\r\n\r\nfunction RandomChar() {\r\n\r\n    const [char, setChar] = useState({}),\r\n          [loading, setLoading] = useState(true),\r\n          [error, setError] = useState(false);\r\n\r\n    useEffect(() => {\r\n        updateChar();\r\n\r\n        const timerId = setInterval(updateChar, 4000);\r\n        \r\n        return () => {\r\n            clearInterval(timerId);\r\n        }\r\n    }, [])\r\n\r\n    const gotService = new GotService();\r\n\r\n    const updateChar = () => {\r\n        // const id = 1300000 // тест ошибки\r\n        const id = Math.floor(Math.random() * 140 + 25); // диапазон 25-140\r\n        gotService.getCharacter(id) // эта конструкция возвращает нам промис\r\n            .then((data) => {\r\n                setChar(data);\r\n                setLoading(false);\r\n            })\r\n            .catch(() => {\r\n                setError(true);\r\n                setLoading(false);\r\n            });\r\n    }\r\n\r\n\r\n    const errorMessage = error ? <ErrorMessage/>  : null;\r\n    const spinner = loading ? <Spinner/> : null\r\n    const content = !(loading || error) ? <View char={char}/> : null;\r\n\r\n    return (\r\n        <div className=\"random-block rounded\">\r\n            {errorMessage}\r\n            {spinner}\r\n            {content}\r\n        </div>\r\n    );\r\n}\r\n\r\nconst View = ({char}) => {\r\n    const {name, gender, born, died, culture} = char;\r\n\r\n    return (\r\n        <>\r\n            <h4>Random Character: {name}</h4>\r\n            <ul className=\"list-group list-group-flush\">\r\n                <li className=\"list-group-item d-flex justify-content-between\">\r\n                    <span className=\"term\">Gender </span>\r\n                    <span>{gender}</span>\r\n                </li>\r\n                <li className=\"list-group-item d-flex justify-content-between\">\r\n                    <span className=\"term\">Born </span>\r\n                    <span>{born}</span>\r\n                </li>\r\n                <li className=\"list-group-item d-flex justify-content-between\">\r\n                    <span className=\"term\">Died </span>\r\n                    <span>{died}</span>\r\n                </li>\r\n                <li className=\"list-group-item d-flex justify-content-between\">\r\n                    <span className=\"term\">Culture </span>\r\n                    <span>{culture}</span>\r\n                </li>\r\n            </ul>\r\n        </>\r\n    )\r\n}\r\nexport default RandomChar;","import RandomChar from './randomChar';\r\n\r\nexport default RandomChar;","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, {useState, useEffect} from 'react';\r\nimport './itemList.css';\r\nimport Spinner from '../spinner';\r\n\r\n\r\nfunction ItemList({getData, onItemSelected, renderItem }) {\r\n\r\n    const [itemList, updateList] = useState(null);\r\n\r\n    useEffect(() => {\r\n        getData()\r\n            .then( (data) => {\r\n                updateList(data) // изменяем state, который лежит в itemList\r\n            })\r\n    }, [])\r\n\r\n\r\n    function renderItems(arr) {\r\n        return arr.map((item) => {\r\n            const {id} = item;\r\n            const label = renderItem(item);\r\n\r\n            return (\r\n                <li \r\n                    key={id}\r\n                    className=\"list-group-item\"\r\n                    onClick={ () => onItemSelected(id)}>\r\n                    {label}\r\n                </li>\r\n            )\r\n        })\r\n    }\r\n\r\n    if (!itemList) {\r\n        return <Spinner/>\r\n    }\r\n\r\n    const items = renderItems(itemList);\r\n\r\n    return (\r\n        <ul className=\"item-list list-group\">\r\n            {items}\r\n        </ul>\r\n    );\r\n}\r\nexport default ItemList;","import React, {useState, useEffect} from 'react';\r\nimport Spinner from '../spinner';\r\nimport ErrorMessage from '../errorMessage';\r\nimport './itemDetails.css';\r\n\r\n\r\nconst Field = ({item, field, label}) => {\r\n    return (\r\n        <li className=\"list-group-item d-flex justify-content-between\">\r\n            <span className=\"term\">{label}</span>\r\n            <span>{item[field]}</span>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport {\r\n    Field\r\n};\r\n\r\nlet itemIdLast;\r\nfunction ItemDetails({itemId, getData, children}) {\r\n   \r\n const [item, setItem] = useState([]);\r\n const [loading, setLoad] = useState(true);\r\n const [error, setError] = useState(false);\r\n \r\n    useEffect(()=>{\r\n        \r\n        if(itemId !==itemIdLast) {\r\n          \r\n            if(!itemId){\r\n                return;\r\n            }\r\n \r\n            getData(itemId) \r\n                .then((data)=>{\r\n                    setItem(data);\r\n                    setLoad(false);\r\n                    setError(false);\r\n                })   \r\n                .catch(onError)\r\n            return () => { itemIdLast = itemId;}\r\n        } \r\n    })\r\n   \r\n   \r\n    function onError() {\r\n        console.log('error load')\r\n        setLoad(false);\r\n        setError(true);\r\n    }\r\n \r\n    if(!itemId){\r\n        return <span className = \"select-error\">Please select a item</span>\r\n    }\r\n   \r\n   const {name} = item; \r\n   const spinner = loading ? <Spinner/>: null;\r\n   const errorMessage = error ? <ErrorMessage/>: null;\r\n    return (\r\n        <div>\r\n            <h4>{name}</h4>\r\n            <ul>\r\n                {errorMessage}\r\n                {spinner}\r\n                {\r\n                    React.Children.map(children,(child)=>{\r\n                       return React.cloneElement(child,{item})\r\n                    })\r\n                  \r\n                }\r\n            </ul>\r\n        </div>\r\n    );\r\n} \r\nexport default ItemDetails;","import ItemList from './itemList';\r\n\r\nexport default ItemList;","import ItemDetails, {Field} from './itemDetails';\r\nexport default ItemDetails;\r\nexport {\r\n    Field\r\n}","import RowBlock from './rowBlock';\r\nexport default RowBlock;","import React from 'react';\r\nimport {Col, Row} from 'reactstrap';\r\n\r\nconst RowBlock = ({left, right}) => {\r\n    return (\r\n        <Row>\r\n            <Col md='6'>\r\n                {left}\r\n            </Col>\r\n            <Col md='6'>\r\n                {right}\r\n            </Col>\r\n        </Row>\r\n    )\r\n}\r\n\r\nexport default RowBlock;","import React, {Component} from 'react';\r\nimport ItemList from '../itemList';\r\nimport ItemDetails, {Field} from '../itemDetails';\r\nimport ErrorMessage from '../errorMessage';\r\nimport gotService from '../../services/gotService';\r\nimport RowBlock from '../rowBlock';\r\n\r\nexport default class CharacterPage extends Component {\r\n    gotService = new gotService();\r\n\r\n    state = {\r\n        selectedChar: null,\r\n        error: false\r\n    }\r\n\r\n    onItemSelected = (id) => {\r\n        this.setState({\r\n            selectedChar: id\r\n        })\r\n    }\r\n\r\n    componentDidCatch() {\r\n        this.setState({\r\n            error: true\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.error) {\r\n            return <ErrorMessage/>\r\n        }\r\n\r\n        const itemList = (\r\n            <ItemList \r\n                onItemSelected={this.onItemSelected}\r\n                getData={this.gotService.getAllCharacters}\r\n                renderItem={({name, gender}) => `${name} (${gender})`}/>\r\n        )\r\n\r\n        const itemDetails = (\r\n            <ItemDetails\r\n            itemId={this.state.selectedChar}\r\n            getData={this.gotService.getCharacter} >\r\n                <Field field='gender' label='Gender'/>\r\n                <Field field='born' label='Born'/>\r\n                <Field field='died' label='Died'/>\r\n                <Field field='culture' label='Culture'/>\r\n            </ItemDetails>\r\n        )\r\n\r\n        return (\r\n           <RowBlock left={itemList} right={itemDetails} />\r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport ItemList from '../itemList';\r\nimport ErrorMessage from '../errorMessage';\r\nimport gotService from '../../services/gotService';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nclass booksPage extends Component {\r\n    gotService = new gotService();\r\n\r\n    state = {\r\n        error: false\r\n    }\r\n\r\n    componentDidCatch() {\r\n        this.setState({\r\n            error: true\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.error) {\r\n            return <ErrorMessage/>\r\n        }\r\n\r\n        return (\r\n            <ItemList \r\n                onItemSelected={(itemId) => {\r\n                    this.props.history.push(itemId);\r\n                }}\r\n                getData={this.gotService.getAllBooks}\r\n                renderItem={({name}) => name}/>\r\n            )\r\n    }\r\n}\r\n\r\nexport default withRouter(booksPage);","import React, {Component} from 'react';\r\nimport ItemList from '../itemList';\r\nimport ItemDetails, {Field} from '../itemDetails';\r\nimport ErrorMessage from '../errorMessage';\r\nimport gotService from '../../services/gotService';\r\nimport RowBlock from '../rowBlock';\r\n\r\nexport default class HousesPage extends Component {\r\n    gotService = new gotService();\r\n\r\n    state = {\r\n        selectedHouse: null,\r\n        error: false\r\n    }\r\n\r\n    onItemSelected = (id) => {\r\n        this.setState({\r\n            selectedHouse: id\r\n        })\r\n    }\r\n\r\n    componentDidCatch() {\r\n        this.setState({\r\n            error: true\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.error) {\r\n            return <ErrorMessage/>\r\n        }\r\n\r\n        const itemList = (\r\n            <ItemList \r\n                onItemSelected={this.onItemSelected}\r\n                getData={this.gotService.getAllHouses}\r\n                renderItem={({name}) => name}/>\r\n        )\r\n\r\n        const itemDetails = (\r\n            <ItemDetails\r\n            itemId={this.state.selectedHouse}\r\n            getData={this.gotService.getHouse} >\r\n                <Field field='region' label='Region'/>\r\n                <Field field='words' label='Words'/>\r\n                <Field field='titles' label='Titles'/>\r\n                <Field field='ancestralWeapons' label='Ancestral Weapons'/>\r\n            </ItemDetails>\r\n        )\r\n\r\n        return (\r\n           <RowBlock left={itemList} right={itemDetails} />\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport gotService from '../../services/gotService';\r\nimport ItemDetails, {Field} from '../itemDetails';\r\n\r\n\r\nexport default class BooksItem extends Component {\r\n    gotService = new gotService();\r\n\r\n    render() {\r\n        return (\r\n            <ItemDetails\r\n                itemId={this.props.bookId}\r\n                getData={this.gotService.getBook} >\r\n                <Field field='numberOfPages' label='Number of pages'/>\r\n                <Field field='publisher' label='Publisher'/>\r\n                <Field field='released' label='Released'/>\r\n            </ItemDetails>\r\n        )\r\n    }\r\n}","import App from './app';\r\n\r\nexport default App;\r\n","import React, { Component } from 'react';\r\nimport {Col, Row, Container} from 'reactstrap';\r\nimport Header from '../header';\r\nimport RandomChar from '../randomChar';\r\nimport ErrorMessage from '../errorMessage';\r\nimport {CharacterPage, BooksPage, HousesPage, BooksItem} from '../pages';\r\nimport gotService from '../../services/gotService';\r\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\r\n\r\nimport './app.css';\r\n\r\nexport default class App extends Component {\r\n    gotService = new gotService();\r\n\r\n    state = {\r\n        showRandomChar: true,\r\n        error: false,\r\n    }\r\n    \r\n    toggleRandomChar = () => {\r\n        this.setState((state) => {\r\n            return {\r\n                showRandomChar: !state.showRandomChar\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.error) {\r\n            return <ErrorMessage/>\r\n        }\r\n\r\n        const char = this.state.showRandomChar ? <RandomChar/> : null;\r\n\r\n        return (\r\n            <Router>\r\n                <div className='app'> \r\n                    <Container>\r\n                        <Header />\r\n                    </Container>\r\n                    <Container>\r\n                        <Row>\r\n                            <Col lg={{size: 5, offset: 0}}>\r\n                                {char}\r\n                                <button \r\n                                    className=\"toggle-btn\"\r\n                                    onClick={this.toggleRandomChar}>Toggle random character</button>\r\n                            </Col>\r\n                        </Row>\r\n                        <Route path='/' exact component={() => <h1>Welcome to GOT DB</h1> } />\r\n                        <Route path='/characters' component={CharacterPage} />\r\n                        <Route path='/houses' component={HousesPage} />\r\n                        <Route path='/books' exact component={BooksPage} />\r\n                        <Route path='/books/:id' render={\r\n                            ({match, location, history}) => {\r\n                                // console.log(match);\r\n                                // console.log(location);\r\n                                // console.log(history);\r\n                                const {id} = match.params;\r\n\r\n                            return <BooksItem bookId={id} />}\r\n                        } />\r\n                    </Container>\r\n                </div>\r\n            </Router>\r\n        );\r\n    }\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './index.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}